(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{163:function(e,t,a){e.exports=a.p+"static/media/nodata.8ba65c1e.png"},174:function(e,t,a){e.exports=a(303)},303:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),c=a.n(o),l=a(21),i=a(13),s=a(369),m=a(14),p=a(19),u=a.n(p);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b=function(e){for(var t=[],a=0;a<e.floors;a++)t[a]=[a+1];var n=e.rooms,r=!0,o=!1,c=void 0;try{for(var l,i=n[Symbol.iterator]();!(r=(l=i.next()).done);r=!0){var s=l.value;t[s.floor-1].push(s)}}catch(m){o=!0,c=m}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return e.rooms=t,e},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetchBranch":return d({},e,{},u.a.mapKeys(t.payload,"_id"));case"createBranch":return d({},e,Object(m.a)({},t.payload._id,t.payload));case"showBranch":return t.payload=b(t.payload),d({},e,Object(m.a)({},t.payload._id,t.payload));case"updateBranch":return d({},e,Object(m.a)({},t.payload._id,t.payload));case"deleteBranch":return u.a.omit(e,t.payload._id);default:return e}};function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetchTenents":return v({},e,{},u.a.mapKeys(t.payload,"_id"));case"createTenents":case"showTenents":case"editTenents":return v({},e,Object(m.a)({},t.payload._id,t.payload));case"deleteTenents":return u.a.omit(e,t.payload._id);default:return e}};function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Errors":return x({},e,{},t.payload);case"unauthorized":return x({},e,{unauthorized:!0});case"noRecord":return x({},e,{noRecords:!0});default:return e}};function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B={isAuthenticated:!1,user:{},isVerified:!0},T=Object(l.c)({form:s.a,branches:f,rooms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"createRooms":return g({},e,Object(m.a)({},t.payload._id,t.payload));case"deleteRooms":return u.a.omit(e,t.payload._id);case"showRooms":case"editRooms":return g({},e,Object(m.a)({},t.payload._id,t.payload));default:return e}},tenents:O,errors:w,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setUser":return P({},e,{isAuthenticated:!u.a.isEmpty(t.payload),user:t.payload,isVerified:t.payload.isVerified});default:return e}}}),C=a(154),A=a(74),S=a.n(A),R=a(155),D=a.n(R).a.create({baseURL:"https://tranquil-dusk-98551.herokuapp.com/"}),z=function(e){e?D.defaults.headers.common.Authorization=e:delete D.defaults.headers.common.Authorization},F=a(36),_=function(e){return{type:"setUser",payload:e}},N=a(8),M=a(7),L=a(9),I=a(10),V=a(11),W=a(336),U=a(340),q=a(341),Z=a(342),$=a(343),Y=a(76),G=a(166),X=a(49),H=a(157),J=a.n(H),K=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(L.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).buttonRender=function(){return a.props.auth.isAuthenticated?r.a.createElement(W.a,{onClick:function(){return a.props.logoutUser(a.props.history)},color:"inherit",style:{marginLeft:"3px"}},"Logout"):r.a.createElement(W.a,{href:"/login",color:"inherit"},"Login")},a}return Object(V.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated||"/login"===this.props.location.pathname||"/register"===this.props.location.pathname||"/verify/"===this.props.location.pathname.slice(0,8)||this.props.history.push("/")}},{key:"render",value:function(){return console.log({match:this.props.match,env:"/hostelz-client"}),r.a.createElement(n.Fragment,null,r.a.createElement(U.a,{position:"static"},r.a.createElement(q.a,null,r.a.createElement(Z.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(Z.a,{item:!0},r.a.createElement(Z.a,{container:!0,justify:"flex-start",alignItems:"center"},r.a.createElement(Z.a,{item:!0},r.a.createElement($.a,{edge:"start",color:"inherit","aria-label":"menu",href:"/"},r.a.createElement(J.a,null))),r.a.createElement(Z.a,{item:!0},r.a.createElement(Y.a,{variant:"h6"},"Hostel Name")))),r.a.createElement(Z.a,{item:!0},r.a.createElement(W.a,{href:this.props.match.url+"branches",color:"inherit",style:{marginLeft:"3px"}},"Branches"),r.a.createElement(W.a,{href:"/tenents",color:"inherit",style:{marginLeft:"3px"}},"Tenents"),r.a.createElement(W.a,{href:"/balances",color:"inherit",style:{marginLeft:"3px"}},"Balance"),this.buttonRender())))),!1===this.props.auth.isVerified&&r.a.createElement(G.a,{style:{backgroundColor:"red"}},r.a.createElement(Y.a,{variant:"h4",component:"h3",style:{marginTop:"20px",marginBottom:"30px"}},"Please check your mail for verification link")))}}]),t}(r.a.Component),Q=Object(i.b)((function(e){return{auth:e.auth,errors:e.errors}}),{logoutUser:function(e){return function(t){localStorage.removeItem("jwtToken"),z(!1),t(_({})),e.push("/")}}})(Object(X.e)(K)),ee=a(164),te=a(364),ae=function(){return r.a.createElement("h1",null,"Home")},ne=a(366),re=a(365),oe=a(346),ce=a(3),le=a(344),ie=a(306),se=(a(167),a(309)),me=a(308),pe=a(371),ue=a(348),he=a(367),de=a(307),be=a(161),fe=a.n(be),Ee=a(5),ge=a(310),ye=a(347),ve=a(160),Oe=a.n(ve),je=a(159),xe=a.n(je),we=(Object(Ee.a)({root:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",borderRadius:3,border:0,color:"white",height:48,padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"},label:{textTransform:"capitalize"}})(W.a),Object(Ee.a)({root:{background:"#bbdefb",marginTop:"20px",marginBottom:"20px",padding:"10px",paddingBottom:"10px",paddingRight:"25px",paddingLeft:"25px"}})(G.a)),ke=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(L.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).createArray=function(e){for(var t=[],a=0;a<e;a++)t[a]=a;return t},a}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this.createArray(this.props.number-this.props.vacancies),t=this.createArray(this.props.vacancies);return r.a.createElement(Z.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"baseline"},r.a.createElement(Z.a,{item:!0},e.map((function(e){return r.a.createElement(xe.a,{style:{marginRight:"2px"}})}))),r.a.createElement(Z.a,{item:!0},t.map((function(e){return r.a.createElement(Oe.a,{style:{marginRight:"2px"}})}))))}}]),t}(r.a.Component),Pe=Object(Ee.a)({root:{background:"red",margin:"2px"},label:{color:"white"}})(W.a),Be=Object(Ee.a)({root:{background:"green",margin:"2px"},label:{color:"white"}})(W.a),Te=Object(Ee.a)({root:{background:"#ffc400",margin:"2px"},label:{color:"white"}})(W.a),Ce=Object(Ee.a)({root:{width:100,marginRight:"20px",marginBottom:"20px"}})(le.a),Ae=Object(Ee.a)({root:{width:200,marginRight:"20px",marginBottom:"20px"}})(le.a),Se=Object(Ee.a)({root:{width:200}})(ge.a),Re=Object(Ee.a)({root:{width:400,marginRight:"20px",marginBottom:"20px"}})(le.a),De=(Object(Ee.a)({root:{card:{maxWidth:345},media:{height:140}}}),Object(Ee.a)({root:{display:"flex",flexDirection:"column",flexWrap:"nowrap",justifyContent:"space-between",alignItems:"center"}})(Z.a),function(){return r.a.createElement(oe.a,{align:"center",style:{marginTop:"150px",marginBottom:"150px"}},r.a.createElement(ye.a,null))}),ze=function(e){var t=e.label,a=e.input,n=e.meta,o=n.touched,c=n.invalid,l=n.error,i=Object(ce.a)(e,["label","input","meta"]);switch(i.size){case"md":return r.a.createElement(Re,Object.assign({label:t,placeholder:t,error:o&&c,helperText:o&&l},a,i));case"xs":return r.a.createElement(Ce,Object.assign({label:t,placeholder:t,error:o&&c,helperText:o&&l},a,i));case"sm":return r.a.createElement(Ae,Object.assign({label:t,placeholder:t,error:o&&c,helperText:o&&l},a,i));default:return r.a.createElement(le.a,Object.assign({label:t,placeholder:t,error:o&&c,helperText:o&&l},a,i))}},Fe=function(e){var t=e.input,a=t.value;return r.a.createElement(ie.a,{style:{display:"inline-block"}},r.a.createElement(me.a,{component:"legend"},"AC:"),r.a.createElement(pe.a,{name:t.name,value:t.value,onChange:t.onChange,row:!0},r.a.createElement(ue.a,{value:!0,control:r.a.createElement(he.a,null),label:"YES",labelPlacement:"start",checked:"true"===a||!0===a}),r.a.createElement(ue.a,{value:!1,control:r.a.createElement(he.a,null),label:"NO",labelPlacement:"start",checked:"false"===a||!1===a})))},_e=function(e){var t=e.onClickMethod;return r.a.createElement(Pe,{size:"small",onClick:t},r.a.createElement(fe.a,null))},Ne=function(e){var t=e.touched,a=e.error;return t&&a?r.a.createElement(se.a,null,t&&a):void 0},Me=function(e){var t=e.input,a=(e.label,e.meta),n=a.touched,o=a.error,c=e.children,l=Object(ce.a)(e,["input","label","meta","children"]);return r.a.createElement(ie.a,{error:n&&o,style:{marginBottom:"20px"}},r.a.createElement(de.a,{htmlFor:"age-native-simple",style:{marginLeft:"20px"}},t.name),r.a.createElement(Se,Object.assign({variant:"outlined",native:!0},t,l,{inputProps:{name:"Branch",id:"age-native-simple"}}),c),Ne({touched:n,error:o}))},Le=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(L.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).renderAlert=function(e){return r.a.createElement(G.a,{style:{color:"black",backgroundColor:"#ffcdd2",width:"420px",marginRight:"7px",marginBottom:"20px",padding:"5px"}},r.a.createElement(Y.a,{variant:"subtitle1",component:"h3"},e))},a}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(oe.a,{maxWidth:"xl",align:"center"},r.a.createElement(Y.a,{variant:"h4",component:"h3",style:{marginTop:"20px",marginBottom:"30px"}},"Login"),this.props.errors.msg&&this.renderAlert(this.props.errors.msg),r.a.createElement("form",{onSubmit:this.props.handleSubmit((function(t){e.props.loginUser(t,e.props.history)}))},r.a.createElement(ne.a,{name:"mail",label:"Enter email id",component:ze,size:"md",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"password",label:"Enter password",component:ze,size:"md",type:"password",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(W.a,{color:"primary",size:"large",variant:"contained",style:{marginBottom:"30px"},type:"submit"},"Log in")),r.a.createElement(F.b,{to:"/register",style:{marginTop:"10px"}},r.a.createElement(Y.a,{variant:"caption",component:"p"},"Not a user? SignUp"))))}}]),t}(n.Component),Ie=Object(i.b)((function(e){return{errors:e.errors,auth:e.auth}}),{loginUser:function(e,t){return function(a){D.post("/login",e).then((function(e){var n=e.data.token;localStorage.setItem("jwtToken",n),z(n);var r=S()(n);a(_(r)),t.push("/")})).catch((function(e){return a({type:"Errors",payload:e.response.data})}))}}})(Object(re.a)({form:"loginForm",validate:function(e,t){var a={};return["mail","password"].forEach((function(t){e[t]||(a[t]="Required!")})),e.mail&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.mail)&&(a.mail="Invalid email address!"),a}})(Object(X.e)(Le))),Ve=function(e){function t(){return Object(N.a)(this,t),Object(L.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){this.props.verifyAccount({rand:this.props.match.params.value,id:this.props.match.params.id})}},{key:"render",value:function(){return this.props.auth.user.isVerified&&!1===this.props.auth.user.isVerified?r.a.createElement(Y.a,{variant:"h4",component:"h3",style:{marginTop:"20px",marginBottom:"30px"}},"Please check your mail for verification link"):r.a.createElement(n.Fragment,null,r.a.createElement(Y.a,{variant:"h4",component:"h3",style:{marginTop:"20px",marginBottom:"30px"}},"Your mail is successfully verified"),r.a.createElement("br",null),r.a.createElement(W.a,{size:"large",color:"primary",variant:"contained",style:{marginTop:"30px"},href:"/login"},"Login"))}}]),t}(n.Component),We=Object(i.b)((function(e){return{auth:e.auth}}),{verifyAccount:function(e){return function(t){D.post("/verify",e).then((function(e){e.data.verified&&(localStorage.removeItem("jwtToken"),z(!1),t(_({})))}))}}})(Ve),Ue=function(e){function t(){return Object(N.a)(this,t),Object(L.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(oe.a,{maxWidth:"xl",align:"center"},r.a.createElement(Y.a,{variant:"h4",component:"h3",style:{marginTop:"20px",marginBottom:"30px"}},"Register"),r.a.createElement("form",{onSubmit:this.props.handleSubmit((function(t){t=u.a.omit(t,"retype"),e.props.registerUser(t,e.props.history)}))},r.a.createElement(ne.a,{name:"name",label:"Enter username",component:ze,size:"md",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"mail",label:"Enter email id",component:ze,provideError:!u.a.isEmpty(this.props.errors),size:"md",variant:"outlined",helperText:u.a.isEmpty(this.props.errors)?null:this.props.errors.mail}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"password",label:"Enter password",component:ze,size:"md",type:"password",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"retype",label:"Re-type password",type:"password",component:ze,size:"md",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(W.a,{color:"primary",size:"large",variant:"contained",style:{marginTop:"30px"},type:"submit"},"SignUp"))))}}]),t}(n.Component),qe=Object(i.b)((function(e){return{errors:e.errors}}),{registerUser:function(e,t){return function(a){D.post("/register",e).then((function(e){var n=e.data.token;localStorage.setItem("jwtToken",n),z(n);var r=S()(n);a(_(r)),t.push("/")})).catch((function(e){console.log(e.response.data),a({type:"Errors",payload:e.response.data})}))}}})(Object(re.a)({form:"registerForm",validate:function(e,t){var a={};return["name","mail","password","retype"].forEach((function(t){e[t]||(a[t]="Required")})),e.password!==e.retype&&(a.retype="Not Matching"),e.mail&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.mail)&&(a.mail="Invalid email address"),a}})(Object(X.e)(Ue)));function Ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $e(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ze(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ye=function(e){return function(t){D.get("/tenents/".concat(e)).then((function(e){var a=e.data.date;a=a.slice(0,10),t({type:"showTenents",payload:$e({},e.data,{date:a})})}))}},Ge=a(345),Xe=a(353),He=a(354),Je=a(355),Ke=a(356),Qe=a(357),et=a(358),tt=a(349),at=a(350),nt=a(351),rt=a(352),ot=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(L.a)(this,Object(I.a)(t).call(this,e))).renderButtons=function(e,t){var o=Array.from(Array(t-e+1),(function(t,a){return a+e}));return r.a.createElement(n.Fragment,null,o.map((function(e){return r.a.createElement(W.a,{color:a.props.currentPage===e?"secondary":"primary",onClick:function(t){a.props.buttonClicked(e),a.setState({currentPage:e})}},e)})))},a.pagesRender=function(){return a.props.totalPages<=3?r.a.createElement(n.Fragment,null,a.renderButtons(1,a.props.totalPages)):(console.log(a.state.currentPage),a.state.currentPage<=2?(console.log("im in blabla"),r.a.createElement(n.Fragment,null,a.renderButtons(1,3),r.a.createElement(W.a,{color:"primary"},". . ."))):a.state.currentPage>=a.props.totalPages-1?r.a.createElement(n.Fragment,null,r.a.createElement(W.a,{color:"primary"},". . ."),a.renderButtons(a.props.totalPages-2,a.props.totalPages)):r.a.createElement(n.Fragment,null,r.a.createElement(W.a,{color:"primary"},". . ."),a.renderButtons(a.state.currentPage-1,a.state.currentPage+1),r.a.createElement(W.a,{color:"primary"},". . .")))},a.state={currentPage:a.props.currentPage},console.table(a.state),a}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.totalRecords),r.a.createElement(oe.a,{maxWidth:"md",align:"center"},r.a.createElement(Z.a,{container:!0},r.a.createElement(Z.a,{item:!0},r.a.createElement(W.a,{color:"primary",onClick:function(t){e.props.buttonClicked(1)}},r.a.createElement(tt.a,null))),r.a.createElement(Z.a,{item:!0},r.a.createElement(W.a,{color:"primary",onClick:function(t){1!==e.props.currentPage&&(e.props.buttonClicked(e.props.currentPage-1),e.setState({currentPage:e.props.currentPage-1}))}},r.a.createElement(at.a,null))),this.pagesRender(),r.a.createElement(Z.a,{item:!0},r.a.createElement(W.a,{color:"primary",onClick:function(t){e.props.currentPage!==e.props.totalPages&&(e.props.buttonClicked(e.props.currentPage+1),e.setState({currentPage:e.props.currentPage+1}))}},r.a.createElement(nt.a,null))),r.a.createElement(Z.a,{item:!0},r.a.createElement(W.a,{color:"primary",onClick:function(t){e.props.buttonClicked(e.props.totalPages),e.setState({currentPage:e.props.totalPages})}},r.a.createElement(rt.a,null)))))}}]),t}(n.Component),ct=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(L.a)(this,Object(I.a)(t).call(this,e))).renderButtons=function(e,t){var a=0;return r.a.createElement(n.Fragment,null,e.map((function(e){return a++,r.a.createElement(n.Fragment,{key:a},e(t))})))},a.otherFields=function(e,t){return r.a.createElement(n.Fragment,null,e.map((function(e){return r.a.createElement(n.Fragment,{key:1},r.a.createElement(Y.a,{component:"span",variant:"body2",color:"textPrimary",style:{marginLeft:"20px"}},"".concat(e,":")),t[e])})))},a.handleChange=function(e){a.setState({currentPage:e})},a.paginatedTenents=function(){var e=Object.values(a.props.tenents),t=(a.state.currentPage-1)*a.perPage,n=t+a.perPage;return e=e.slice(t,n)},a.renderContent=function(){var e=a.paginatedTenents();return r.a.createElement(n.Fragment,null,r.a.createElement(Ge.a,null,e.map((function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(Xe.a,{alignItems:"flex-start"},r.a.createElement(He.a,null,r.a.createElement(Je.a,{alt:e.name,src:e.image})),r.a.createElement(F.b,{to:"tenents/show/".concat(e._id),style:{textDecoration:"none",color:"black"}},r.a.createElement(Ke.a,{primary:e.name,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{component:"span",variant:"body2",color:"textPrimary"},"branch:"),e.BranchName,r.a.createElement(Y.a,{component:"span",variant:"body2",color:"textPrimary",style:{marginLeft:"20px"}},"room:"),e.room,a.props.fields&&a.otherFields(a.props.fields,e))})),r.a.createElement(Qe.a,null,a.renderButtons(a.props.buttons,e))),r.a.createElement(et.a,{variant:"inset",component:"li"}))}))),r.a.createElement(ot,{totalPages:Math.ceil(Object.keys(a.props.tenents).length/a.perPage),perPage:a.perPage,currentPage:a.state.currentPage,buttonClicked:function(e){a.handleChange(e)}}))},a.perPage=1,a.state={currentPage:1,noTenents:Object.keys(e.tenents).length},a}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,u.a.isEmpty(this.props.tenents)&&r.a.createElement(De,null),!u.a.isEmpty(this.props.tenents)&&this.renderContent())}}]),t}(n.Component),lt=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(L.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).paidButton=function(e){return r.a.createElement(W.a,{onClick:function(){a.props.payRent(e._id)},color:"primary",variant:"contained"},"Paid")},a}return Object(V.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchBalances()}},{key:"render",value:function(){return r.a.createElement(oe.a,{maxWidth:"md",align:"center"},r.a.createElement(Y.a,{variant:"h4",component:"h3",style:{marginTop:"20px",marginBottom:"5px"}},"BALANCES"),!this.props.errors.noRecords&&r.a.createElement(ct,{fields:["rent","dues"],buttons:[this.paidButton],tenents:this.props.tenents}),this.props.errors.noRecords&&r.a.createElement(n.Fragment,null,r.a.createElement(Y.a,{component:"h1",variant:"h3",style:{marginTop:"150px",marginBottom:"150px"}},"NO PAYMENTS TO BE RECIEVED")))}}]),t}(n.Component),it=Object(i.b)((function(e){return{tenents:e.tenents,errors:e.errors}}),{fetchBalances:function(){return function(e){D.get("/tenents/balances").then((function(t){t.data.length?e({type:"fetchTenents",payload:t.data}):e({type:"noRecord",payload:!0})}))}},payRent:function(e){return function(t){D.put("/tenents/".concat(e,"/pay")).then((function(e){console.log(e),t({type:"deleteTenents",payload:e.data}),document.location.reload()}))}}})(lt),st=a(162),mt=a.n(st)()(),pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){var a="";e.length&&(a="?properties="+e.join(",")),D.get("/branches"+a).then((function(e){e.data.length?t({type:"fetchBranch",payload:e.data}):t({type:"noRecord",payload:!0})})).catch((function(e){"Unauthorized"===e.response.data&&t({type:"unauthorized",payload:e.response.data}),console.log(e.response.data)}))}},ut=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(a){var n="";t.length&&(n="?properties="+t.join(",")),console.log(n),D.get("/branches/".concat(e,"/").concat(n)).then((function(e){console.log(e),a({type:"showBranch",payload:e.data})})).catch((function(e){console.log(e.response)}))}},ht=a(359),dt=a(360),bt=a(361),ft=a(362),Et=a(363),gt=function(e){function t(){return Object(N.a)(this,t),Object(L.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this.props,t=e.deleteMethod,a=e.branch;return r.a.createElement(ht.a,{maxWidth:"350"},r.a.createElement(dt.a,{href:"/branches/show/".concat(a._id)},r.a.createElement(bt.a,{image:a.image,title:a.name,component:"img",height:"170"}),r.a.createElement(ft.a,null,r.a.createElement(Y.a,{gutterBottom:!0,variant:"h5",component:"h2"},a.name),r.a.createElement(Y.a,{variant:"body2",component:"p"},a.address))),r.a.createElement(Et.a,null,r.a.createElement(Te,{size:"small",href:"/branches/edit/".concat(a._id)},"Edit"),r.a.createElement(_e,{size:"small",onClickMethod:function(){t(a._id)}},"Learn More")))}}]),t}(r.a.Component),yt=function(e){function t(){return Object(N.a)(this,t),Object(L.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchBranches(["_id","image","address","name"])}},{key:"render",value:function(){var e=this,t=Object.values(this.props.branches);return r.a.createElement(n.Fragment,null,r.a.createElement(oe.a,{maxWidth:"md"},r.a.createElement(Y.a,{variant:"h4",component:"h3",style:{marginTop:"20px",marginBottom:"30px"}},"Branches"),r.a.createElement(n.Fragment,null,!(this.props.errors.noRecords||t.length)&&r.a.createElement(De,null),this.props.errors.noRecords&&r.a.createElement(oe.a,{align:"center"},r.a.createElement(Y.a,{component:"h1",variant:"h3",style:{marginTop:"150px"}},"NO TENENTS EXISTS")),t.length&&r.a.createElement(Z.a,{container:!0,alignItems:"center",spacing:2},t.map((function(a){return r.a.createElement(Z.a,{item:!0,key:t._id,xs:12,sm:3,md:4},r.a.createElement(gt,{branch:a,deleteMethod:e.props.deleteBranches}))})))),r.a.createElement(W.a,{color:"primary",size:"large",variant:"contained",style:{marginTop:"30px"},href:"branches/new"},"Create New")))}}]),t}(n.Component),vt=Object(i.b)((function(e){return{branches:e.branches,errors:e.errors}}),{fetchBranches:pt,deleteBranches:function(e){return function(t){console.log("im called"),D.delete("/branches/"+e).then((function(e){t({type:"deleteBranch",payload:e.data})}))}}})(yt),Ot=void 0,jt=function(e){var t=e.rooms;return t.length>1&&Array.isArray(t)?r.a.createElement("ul",{style:{listStyle:"none"}},t.map((function(t){return r.a.createElement(n.Fragment,null,t&&"object"===typeof t&&t.constructor===Object&&r.a.createElement("li",{key:t.number},r.a.createElement(we,null,r.a.createElement(Z.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(Z.a,{item:!0},r.a.createElement(Z.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"baseline"},r.a.createElement(Z.a,{item:!0},r.a.createElement(Y.a,{variant:"subtitle1"},r.a.createElement("b",null,"room number:"),t.number,r.a.createElement("b",{style:{marginLeft:"30px"}},"rent:"),t.fee,r.a.createElement("b",{style:{marginLeft:"30px"}},"A/C:"),t.AC?"available":"not available",r.a.createElement("b",{style:{marginLeft:"30px",marginRight:"10px"}},"beds:"))),r.a.createElement(Z.a,{item:!0},r.a.createElement(ke,{number:t.beds,vacancies:t.vacancies})))),r.a.createElement(Z.a,{item:!0},r.a.createElement(Te,{variant:"contained",size:"small",href:"/branches/".concat(e.id,"/rooms/edit/").concat(t._id)},"Edit"),r.a.createElement(_e,{onClickMethod:function(){Ot.props.delete(Ot.props.id,t._id),window.location.reload(!1)}},"Delete"))))))}))):r.a.createElement(we,null,r.a.createElement("b",null,r.a.createElement(Y.a,{component:"p",variant:"h6"},"NO ROOMS ADDED")))},xt=function(e){function t(){return Object(N.a)(this,t),Object(L.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,this.props.rooms&&r.a.createElement(n.Fragment,null,r.a.createElement(Y.a,{variant:"h5",component:"h3",style:{marginTop:"20px",marginBottom:"30px",textTransform:"capitalize"}},"Rooms:"),this.props.rooms.map((function(t){return r.a.createElement("div",null,r.a.createElement(Y.a,{variant:"h6",component:"h4",style:{marginTop:"20px",marginBottom:"30px",textTransform:"capitalize"}},"Floor ".concat(t[0],":")),r.a.createElement(jt,{rooms:t,id:e.props.id}),r.a.createElement(et.a,null))}))))}}]),t}(r.a.Component);function wt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var kt=function(e,t){return function(a){D.delete("/branches/".concat(e,"/rooms/").concat(t)).then((function(e){console.log("im called"),a({type:"deleteRooms",payload:e.data})}))}},Pt=function(e){function t(){return Object(N.a)(this,t),Object(L.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){this.props.showBranches(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.branches;return u.a.isEmpty(e)?r.a.createElement(De,null):r.a.createElement(n.Fragment,null,r.a.createElement(oe.a,null,r.a.createElement(Y.a,{variant:"h4",component:"h3",style:{marginTop:"20px",marginBottom:"30px",textTransform:"capitalize"}},"".concat(e.name,":")),r.a.createElement(we,null,r.a.createElement(Y.a,{variant:"subtitle1"},r.a.createElement("b",{style:{marginRight:"5px"}},"CareTaker:"),e.careTaker,r.a.createElement("br",null),r.a.createElement("b",{style:{marginRight:"5px"}},"Number:"),e.number,r.a.createElement("br",null),r.a.createElement("b",{style:{marginRight:"5px"}},"Address:"),e.address)),r.a.createElement(xt,{rooms:e.rooms,delete:this.props.deleteRoomsAction,id:this.props.match.params.id}),r.a.createElement(W.a,{size:"large",color:"primary",variant:"contained",href:"/branches/".concat(e._id,"/rooms/new"),style:{marginTop:"20px"}},"Add new Rooms")))}}]),t}(n.Component),Bt=Object(i.b)((function(e,t){return{branches:e.branches[t.match.params.id],rooms:e.rooms}}),{showBranches:ut,deleteRoomsAction:kt})(Pt),Tt=a(94),Ct=a.n(Tt),At=function(e){function t(){var e,a;Object(N.a)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return(a=Object(L.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(c)))).inputFieldComponent=function(e){var t=e.input;return r.a.createElement(n.Fragment,null,r.a.createElement(Ct.a,{type:"file",multiple:!1,onDone:function(e){console.log(e),t.value=e.base64,t.onChange(t.value)}}),r.a.createElement("img",{src:t.value,alt:"upload tenent",style:{height:"200px",width:"200px"}}))},a}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.branches),r.a.createElement("form",{onSubmit:this.props.handleSubmit((function(t){e.props.onSubmit(e.props.id,t)}))},r.a.createElement(ne.a,{name:"name",label:"Enter the Branch name",component:ze,size:"md",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"careTaker",label:"Enter the care taker name",component:ze,variant:"outlined",size:"md"}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"number",label:"Enter the care taker number",type:"tel",variant:"outlined",size:"md",component:ze}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"floors",label:"Enter floors",type:"number",variant:"outlined",size:"sm",component:ze}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"address",label:"Enter address",variant:"outlined",size:"md",component:ze,multiline:!0,rowsMax:"4"}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"image",label:"upload an image",component:this.inputFieldComponent}),r.a.createElement("br",null),r.a.createElement(W.a,{size:"large",color:"primary",type:"submit",variant:"contained",style:{marginTop:"30px"}},"Submit"))}}]),t}(n.Component),St=Object(re.a)({form:"branchForm",validate:function(e){var t={};return["name","careTaker","number","floors","address","image"].forEach((function(a){e[a]||(t[a]="Required")})),e.floors<1&&(t.floors="invalid number"),e.number&&!e.number.toString().match(/^\d{10}$/)&&(t.number="invalid phone number"),t}})(At),Rt=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(L.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){a.props.updateBranches(a.props.match.params.id,e)},a}return Object(V.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){this.props.showBranches(this.props.match.params.id)}},{key:"render",value:function(){return this.props.branches?r.a.createElement(oe.a,{maxWidth:"xl",align:"center"},r.a.createElement(Y.a,{color:"primary",variant:"h4",component:"h3",style:{marginTop:"20px",marginBottom:"5px"}},"Edit Branch"),r.a.createElement("br",null),r.a.createElement(St,{id:this.props.match.params.id,onSubmit:this.props.updateBranches,initialValues:u.a.pick(this.props.branches,"name","careTaker","number","floors","address","image")})):r.a.createElement("div",{style:{marginTop:"300px",marginBottom:"300px"}},r.a.createElement(oe.a,{align:"center"},r.a.createElement(ye.a,null)))}}]),t}(n.Component),Dt=Object(i.b)((function(e,t){return{branches:e.branches[t.match.params.id]}}),{updateBranches:function(e,t){return function(a){console.log("im called"),console.log(e),D.put("/branches/".concat(e),t).then((function(e){console.log(e.data),a({type:"updateBranch",payload:e.data})}))}},showBranches:ut})(Rt),zt=Object(i.b)(null,{createBranches:function(e,t){return function(e){D.post("/branches",t).then((function(t){e({type:"createBranch",payload:t.data}),mt.push("/branches/".concat(t.data._id,"/rooms/new")),window.location.reload(!1)}))}}})((function(e){return r.a.createElement(oe.a,{maxWidth:"xl",align:"center",bgcolor:"secondary"},r.a.createElement(Y.a,{variant:"h4",component:"h3",style:{marginTop:"20px",marginBottom:"5px"}},"Add a Branch"),r.a.createElement("br",null),r.a.createElement(St,{onSubmit:e.createBranches,id:""}))})),Ft=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(L.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).editButton=function(e){return r.a.createElement(Te,{href:"/tenents/edit/".concat(e._id)},"Edit")},a.deleteButton=function(e){return r.a.createElement(_e,{onClickMethod:function(){a.props.deleteTenents(e._id)}})},a}return Object(V.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchTenents(this.props.history),this.props.fetchBranches(["_id","name"])}},{key:"handleClick",value:function(e){this.setState({offset:e})}},{key:"render",value:function(){var e=[];return e[0]=this.editButton,e[1]=this.deleteButton,r.a.createElement(oe.a,{maxWidth:"md",align:"center"},r.a.createElement(Y.a,{variant:"h4",component:"h3",style:{marginTop:"20px",marginBottom:"5px"}},"Tenants"),!this.props.errors.noRecords&&r.a.createElement(n.Fragment,null,r.a.createElement(ct,{tenents:this.props.tenents,branches:this.props.branches,buttons:e})),this.props.errors.noRecords&&r.a.createElement(n.Fragment,null,r.a.createElement(Y.a,{component:"h1",variant:"h3",style:{marginTop:"150px",marginBottom:"150px"}},"NO TENENTS ADDED")),r.a.createElement(W.a,{size:"large",color:"primary",variant:"contained",style:{marginTop:"30px"},href:"/tenents/new"},"Add tenant"))}}]),t}(n.Component),_t=Object(i.b)((function(e){return{branches:e.branches,tenents:e.tenents,errors:e.errors}}),{fetchTenents:function(){return function(e){D.get("/tenents").then((function(t){t.data.length?e({type:"fetchTenents",payload:t.data}):e({type:"noRecord",payload:!0})}))}},deleteTenents:function(e){return function(t){D.delete("/tenents/"+e).then((function(e){t({type:"deleteTenents",payload:e.data})}))}},fetchBranches:pt})(Ft),Nt=function(e){function t(){return Object(N.a)(this,t),Object(L.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){this.props.showTenents(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.tenents[this.props.match.params.id];return console.log(e),e?r.a.createElement(oe.a,{maxWidth:"md",align:"center"},r.a.createElement(Y.a,{variant:"h4",component:"h3",style:{marginTop:"20px",marginBottom:"30px",textTransform:"capitalize"}},"Profile"),r.a.createElement(G.a,{style:{padding:"30px"}},r.a.createElement("img",{src:e.image,alt:e.name,style:{height:"200px",width:"200px"}}),r.a.createElement(Y.a,{component:"p",variant:"subtitle1"},r.a.createElement("b",null,"Name:"),e.name,r.a.createElement("br",null),r.a.createElement("b",null,"Branch:"),e.BranchName,r.a.createElement("br",null),r.a.createElement("b",null,"Room:"),e.room,r.a.createElement("br",null),r.a.createElement("b",null,"Mail:"),e.mail,r.a.createElement("br",null),r.a.createElement("b",null,"Mobile:"),e.number,r.a.createElement("br",null),r.a.createElement("b",null,"Adhaar:"),e.adhar,r.a.createElement("br",null),r.a.createElement("b",null,"Occupation:"),e.occupation,r.a.createElement("br",null),r.a.createElement("b",null,"Gaurdian Name:"),e.gaurdianName,r.a.createElement("br",null),r.a.createElement("b",null,"Gaurdian Number:"),e.gaurdianNumber,r.a.createElement("br",null),r.a.createElement("b",null,"Gaurdian Address:"),e.gaurdianAddress)),r.a.createElement(W.a,{size:"large",color:"primary",variant:"contained",href:"/tenents",style:{marginTop:"20px"}},"Done")):r.a.createElement(ye.a,null)}}]),t}(n.Component),Mt=Object(i.b)((function(e,t){return{tenents:e.tenents}}),{showTenents:Ye})(Nt),Lt=a(370);function It(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Vt={backgroundColor:"#9e9e9e",width:"200px"},Wt={backgroundColor:"#bbdefb",width:"250px"},Ut={width:"200px"},qt=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(L.a)(this,Object(I.a)(t).call(this,e))).inputFieldComponent=function(e){e.label;var t=e.input,a=e.meta,o=a.touched,c=a.invalid,l=a.error;Object(ce.a)(e,["label","input","meta"]);return r.a.createElement(n.Fragment,null,r.a.createElement(Ct.a,{type:"file",multiple:!1,error:o&&c,onDone:function(e){console.log(e),t.value=e.base64,t.onChange(t.value)}}),r.a.createElement("img",{src:t.value,alt:"upload image",style:{height:"200px",width:"200px"}}),Ne({touched:o,error:l}))},a.styleProvider=function(e){return a.props.initialValues?a.state.selected===e._id?Wt:Ut:e.vacancies>0?(console.log(e),a.state.selected===e._id?Wt:Ut):Vt},a.roomFieldComponent=function(e){e.label;var t=e.input,o=e.meta,c=(o.touched,o.invalid,o.error,Object(ce.a)(e,["label","input","meta"]),a.props.branches[a.props.selectedBranch].rooms);return r.a.createElement(Z.a,{container:!0,direction:"row",justify:"center",spacing:2},c.map((function(e){return r.a.createElement(Z.a,{item:!0,key:e[0]},r.a.createElement(Z.a,{container:!0,direction:"row",justify:"center",spacing:2,key:e[0]},r.a.createElement(Y.a,{component:"p",variant:"subtitle1"},"Floor ",e[0],":"),e.map((function(e){return r.a.createElement(Z.a,{item:!0,key:e._id},e&&"object"===typeof e&&e.constructor===Object&&r.a.createElement(n.Fragment,null,r.a.createElement(G.a,{style:a.styleProvider(e),onClick:function(){(e.vacancies>0||a.props.initialValues&&a.props.initialValues.roomNumber===e._id)&&(a.setState({selected:e._id}),t.onChange(e._id))}},r.a.createElement(Y.a,{variant:"subtitle1",component:"p"},r.a.createElement("b",null,"Room Number:"),e.number,r.a.createElement("br",null),r.a.createElement("b",null,"Fee:"),e.fee,r.a.createElement("br",null),r.a.createElement("b",null,"A/C:"),e.AC?"available":"not available",r.a.createElement("br",null),r.a.createElement(Z.a,{container:!0,justify:"center"},r.a.createElement(Z.a,{item:!0},r.a.createElement("b",null,"beds:")),r.a.createElement(Z.a,{item:!0},r.a.createElement(ke,{number:e.beds,vacancies:e.vacancies})))))))}))))})))},a.state={selected:null},a.count=null,a}return Object(V.a)(t,e),Object(M.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.selectedBranch!==e.selectedBranch&&this.props.showBranches(this.props.selectedBranch),this.props.initialValues&&null===this.count&&(console.log("im in didmunt"),this.setState({selected:this.props.initialValues.roomNumber}),this.count=1,console.log(this.state))}},{key:"render",value:function(){var e=this;return console.log(this.props.history),r.a.createElement("form",{onSubmit:this.props.handleSubmit((function(t){t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?It(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):It(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{BranchName:e.props.branches[t.Branch].name}),e.props.onSubmit(t,e.props.history,e.props.id)}))},r.a.createElement(Y.a,{variant:"h5",component:"h3",style:{marginTop:"20px",marginBottom:"5px"}},"enter tenant details"),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"name",label:"Enter the Tenent name",component:ze,size:"md",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"mail",label:"Enter the email id",component:ze,variant:"outlined",size:"md"}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"date",size:"md",label:"add date",type:"date",variant:"outlined",InputLabelProps:{shrink:!0},component:ze}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"number",label:"Enter mobile number",type:"tel",variant:"outlined",size:"md",component:ze}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"advance",label:"Advance",type:"number",variant:"outlined",size:"sm",component:ze}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"adhar",label:"Enter aadhar",variant:"outlined",size:"md",component:ze}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"occupation",label:"Enter Occupation",variant:"outlined",size:"md",component:ze}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"gaurdianName",label:"Enter the Tenent name",component:ze,size:"md",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"gaurdianNumber",label:"Enter gaurdian mobile number",type:"tel",variant:"outlined",size:"md",component:ze}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"gaurdianAddress",label:"Enter Gaurdian address",variant:"outlined",size:"md",component:ze,multiline:!0,rowsMax:"4"}),r.a.createElement("br",null),r.a.createElement(ne.a,{name:"image",label:"upload an image",component:this.inputFieldComponent}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Y.a,{variant:"h5",component:"h3",style:{marginTop:"20px",marginBottom:"5px"}},"select a room"),function(e){if(e){var t=Object.values(e);return r.a.createElement(ne.a,{name:"Branch",component:Me,label:"branch"},r.a.createElement("option",{value:""}),t.map((function(e){return r.a.createElement("option",{value:e._id},e.name)})))}}(this.props.branches),r.a.createElement("br",null),this.props.selectedBranch&&this.props.branches[this.props.selectedBranch]&&this.props.branches[this.props.selectedBranch].rooms&&Array.isArray(this.props.branches[this.props.selectedBranch].rooms[0])&&r.a.createElement(ne.a,{name:"roomNumber",label:"select a room",component:this.roomFieldComponent}),r.a.createElement(W.a,{size:"large",color:"primary",type:"submit",variant:"contained",style:{marginTop:"30px"}},"Submit"))}}]),t}(n.Component),Zt=Object(Lt.a)("tenentForm"),$t=Object(i.b)((function(e){return{selectedBranch:Zt(e,"Branch"),branches:e.branches}}),{showBranches:ut})(Object(re.a)({form:"tenentForm",validate:function(e){var t={};return["name","mail","date","advance","adhar","number","occupation","gaurdianName","gaurdianAddress","gaurdianNumber","image"].forEach((function(a){e[a]||(t[a]="Required")})),e.number&&!e.number.toString().match(/^\d{10}$/)&&(t.number="invalid phone number"),e.gaurdiannumber&&!e.gaurdianNumber.toString().match(/^\d{10}$/)&&(t.gaurdianNumber="invalid phone number"),e.mail&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.mail)&&(t.mail="Invalid email address"),t}})(Object(X.e)(qt))),Yt=function(e){function t(){return Object(N.a)(this,t),Object(L.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){this.props.showTenents(this.props.match.params.id),this.props.fetchBranches(["_id","name","rooms","floors"])}},{key:"render",value:function(){var e=this;return r.a.createElement(oe.a,{maxWidth:"xl",align:"center"},r.a.createElement(Y.a,{variant:"h4",component:"h3",style:{marginTop:"20px",marginBottom:"5px"}},"Add a Tenent"),r.a.createElement("br",null),r.a.createElement($t,{onSubmit:function(t,a){return e.props.updateTenents(t,a)},initialValues:this.props.tenents[this.props.match.params.id],branches:this.props.branches,id:this.props.match.params.id}))}}]),t}(n.Component),Gt=Object(i.b)((function(e){return{tenents:e.tenents,branches:e.branches}}),{showTenents:Ye,updateTenents:function(e,t,a){return function(n){D.put("/tenents/".concat(a),e).then((function(e){console.log(e.data),n({type:"editTenents",payload:e.data}),t.push("/tenents/"+a)}))}},fetchBranches:pt})(Yt),Xt=function(e){function t(){return Object(N.a)(this,t),Object(L.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchBranches(["_id","name","rooms","floors"])}},{key:"render",value:function(){return r.a.createElement(oe.a,{maxWidth:"xl",align:"center"},r.a.createElement(Y.a,{variant:"h4",component:"h3",style:{marginTop:"20px",marginBottom:"5px"}},"Add a Tenent"),r.a.createElement("br",null),r.a.createElement($t,{onSubmit:this.props.createTenents,branches:this.props.branches}))}}]),t}(r.a.Component),Ht=Object(i.b)((function(e){return{branches:e.branches}}),{createTenents:function(e,t){return function(a){console.log(e),D.post("/tenents",e).then((function(e){a({type:"createTenents",payload:e.data}),t.goBack()}))}},fetchBranches:pt})(Xt),Jt=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"rooms"))},Kt=a(368),Qt=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(L.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).fieldArrayComponent=function(e){var t=e.fields;return r.a.createElement("ul",{style:{listStyle:"none"}},r.a.createElement(Z.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"center"},t.map((function(e,n){return r.a.createElement(Z.a,{item:!0},r.a.createElement(we,null,r.a.createElement("li",{key:n},r.a.createElement(Y.a,{variant:"h6",gutterBottom:!0},"Room #",n+1),r.a.createElement(ne.a,{name:"".concat(e,".number"),label:"enter room number",component:ze,size:"sm"}),r.a.createElement(ne.a,{name:"".concat(e,".floor"),label:"floor",type:"number",size:"xs",min:"1",component:ze}),r.a.createElement(ne.a,{name:"".concat(e,".beds"),label:"beds",type:"number",size:"xs",min:"1",component:ze}),r.a.createElement(ne.a,{name:"".concat(e,".fee"),label:"enter amount of fee",type:"number",size:"sm",component:ze}),r.a.createElement(ne.a,{name:"".concat(e,".AC"),component:Fe},r.a.createElement(he.a,{value:!0,label:"YES"}),r.a.createElement(he.a,{value:!1,label:"NO"})),r.a.createElement("br",null),r.a.createElement(Be,{size:"small",type:"submit",onClick:a.props.handleSubmit((function(){a.props.onSubmit(a.props.id,t.get(n)),t.remove(n)}))},"save"),r.a.createElement(_e,{onClickMethod:function(){t.remove(n)}}))))})),r.a.createElement(Z.a,{item:!0},r.a.createElement(W.a,{size:"large",color:"primary",variant:"contained",onClick:function(){return t.push({})}},"Add New Room"))))},a}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return this.props.branches?r.a.createElement(n.Fragment,null,r.a.createElement("form",null,r.a.createElement(Kt.a,{name:"rooms",component:this.fieldArrayComponent}))):r.a.createElement(ye.a,null)}}]),t}(n.Component),ea=Object(i.b)((function(e,t){return{branches:e.branches,initalValues:{rooms:t.initialValues}}}),{deleteRoomsAction:kt})(Object(re.a)({form:"roomForm",validate:function(e,t){var a={},n=[];return e.rooms&&e.rooms.length?e.rooms.forEach((function(e,a){var r={};if(t.branches[t.id])for(var o=0;o<t.branches[t.id].rooms.length;o++)e.number===t.branches[t.id].rooms[o].number&&(r.number="already exists",n[a]=r);e&&e.number||(r.number="Required",n[a]=r),e&&e.floor||(r.floor="Required",n[a]=r),t.branches[t.id]&&e.floor>t.branches[t.id].floors&&(r.floor="Not a valid floor",n[a]=r),e&&e.beds||(r.beds="Required",n[a]=r),e&&e.fee||(r.fee="Required",n[a]=r),e.floor<1&&(r.floor="not a valid number",n[a]=r),e.beds<1&&(r.beds="not a valid number",n[a]=r),e.fee<1&&(r.fee="not a valid number",n[a]=r)})):a.rooms={_errors:"Atleast one room must be added"},n.length&&(a.rooms=n),a}})(Qt)),ta=a(163),aa=a.n(ta),na=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(L.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).renderDone=function(){if(!u.a.isEmpty(a.props.branches))return a.props.branches[a.props.match.params.id].rooms.length||!u.a.isEmpty(a.props.rooms)?r.a.createElement(W.a,{size:"large",color:"primary",variant:"contained",href:"/branches"},"Done!"):null},a}return Object(V.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){this.props.showBranches(this.props.match.params.id)}},{key:"renderList",value:function(){var e=this,t=Object.keys(this.props.rooms);return t.length?r.a.createElement(oe.a,{maxWidth:"xl",align:"center"},r.a.createElement(Y.a,{variant:"h4",component:"h3",style:{marginTop:"20px",marginBottom:"5px"}},"Added Rooms"),r.a.createElement("ul",{style:{listStyle:"none"}},t.map((function(t){return t=e.props.rooms[t],r.a.createElement("li",{key:t._id},r.a.createElement(we,null,r.a.createElement(Z.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(Z.a,{item:!0},r.a.createElement(Y.a,{variant:"subtitle1"},r.a.createElement("b",null,"room number:"),t.number,r.a.createElement("b",{style:{marginLeft:"30px"}},"floor:"),t.floor,r.a.createElement("b",{style:{marginLeft:"30px"}},"beds:"),t.beds,r.a.createElement("b",{style:{marginLeft:"30px"}},"rent:"),t.fee,r.a.createElement("b",{style:{marginLeft:"30px"}},"A/C:"),t.AC?"available":"not available")),r.a.createElement(Z.a,{item:!0},r.a.createElement(Te,{variant:"contained",size:"small",href:"/branches/".concat(e.props.match.params.id,"/rooms/edit/").concat(t._id)},"Edit"),r.a.createElement(_e,{onClickMethod:function(){e.props.deleteRoomsAction(e.props.match.params.id,t._id)}},"Delete")))))})))):r.a.createElement(oe.a,{align:"center"},r.a.createElement("img",{alt:"no rooms added",src:aa.a}),r.a.createElement(Y.a,{variant:"subtitle1"},"No rooms are added yet"))}},{key:"render",value:function(){return console.log(this.props),r.a.createElement(n.Fragment,null,this.renderList(),r.a.createElement(oe.a,{maxWidth:"xl",align:"center"},r.a.createElement("br",null),r.a.createElement(ea,{onSubmit:this.props.createRoomsAction,id:this.props.match.params.id}),r.a.createElement("br",null),this.renderDone()))}}]),t}(n.Component),ra=Object(i.b)((function(e,t){return{branches:e.branches,rooms:e.rooms}}),{showBranches:ut,createRoomsAction:function(e,t){return function(a){var n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(a),!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{vacancies:t.beds});console.log(n),D.post("/branches/".concat(e,"/rooms/"),n).then((function(e){a({type:"createRooms",payload:e.data})}))}},deleteRoomsAction:kt})(na),oa=function(e){function t(){return Object(N.a)(this,t),Object(L.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement("form",{onSubmit:this.props.handleSubmit((function(t){console.log("im pressed"),e.props.editRoomsAction(e.props.id,e.props.rid,t)}))},r.a.createElement(Z.a,{container:!0,direction:"column",justify:"space-between",alignItems:"center",style:{marginTop:"25px"}},r.a.createElement(Z.a,{item:!0},r.a.createElement(ne.a,{variant:"outlined",size:"sm",name:"number",label:"enter room number",component:ze})),r.a.createElement(Z.a,{item:!0},r.a.createElement(ne.a,{variant:"outlined",size:"xs",name:"floor",label:"floor",type:"number",component:ze})),r.a.createElement(Z.a,{item:!0},r.a.createElement(ne.a,{variant:"outlined",size:"xs",name:"beds",label:"beds",type:"number",component:ze})),r.a.createElement(Z.a,{item:!0},r.a.createElement(ne.a,{variant:"outlined",size:"sm",name:"fee",label:"enter amount of fee",type:"number",component:ze})),r.a.createElement(Z.a,{item:!0},r.a.createElement(ne.a,{name:"AC",component:Fe},r.a.createElement(he.a,{value:!0,label:"YES"}),r.a.createElement(he.a,{value:!1,label:"NO"}))),r.a.createElement(Z.a,{item:!0},r.a.createElement(W.a,{type:"submit",size:"large",color:"primary",variant:"contained"},"Submit"))))}}]),t}(n.Component),ca=Object(re.a)({form:"roomEditForm",validate:function(e,t){var a={};return["number","fee","beds","AC","floor"].forEach((function(t){e[t]||(a[t]="Required")})),t.branches&&e.floor>t.branches.floors&&(a.floor="Not a valid floor"),a}})(oa),la=function(e){function t(){return Object(N.a)(this,t),Object(L.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){this.props.showBranches(this.props.match.params.id),this.props.showRoomsAction(this.props.match.params.id,this.props.match.params.rid)}},{key:"render",value:function(){return r.a.createElement(oe.a,{maxWidth:"xl",align:"center"},r.a.createElement(Y.a,{variant:"h4",component:"h3",style:{marginTop:"20px",marginBottom:"5px"}},"Edit Room"),r.a.createElement(ca,{initialValues:this.props.rooms,branches:this.props.branches,id:this.props.match.params.id,rid:this.props.match.params.rid,editRoomsAction:this.props.editRoomsAction}))}}]),t}(n.Component),ia=Object(i.b)((function(e,t){return{branches:e.branches[t.match.params.id],rooms:e.rooms[t.match.params.rid]}}),{showBranches:ut,showRoomsAction:function(e,t){return function(a){D.get("/branches/".concat(e,"/rooms/").concat(t)).then((function(e){a({type:"showRooms",payload:e.data})}))}},editRoomsAction:function(e,t,a){return function(n){console.log("IM called action"),D.put("/branches/".concat(e,"/rooms/").concat(t),a).then((function(e){n({type:"editRooms",payload:e.data})}))}}})(la),sa=Object(ee.a)({palette:{primary:{light:"#428e92",main:"#138496",dark:"#00363a",contrastText:"white"},secondary:{light:"#92ffc6",main:"#f64b3c",dark:"#1aa867",contrastText:"#000"},background:"#5cdb95"}}),ma=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,pa=Object(l.e)(T,ma(Object(l.a)(C.a)));if(localStorage.jwtToken){z(localStorage.jwtToken);var ua=S()(localStorage.jwtToken);pa.dispatch(_(ua))}console.log("/hostelz-client"),c.a.render(r.a.createElement(i.a,{store:pa},r.a.createElement(F.a,{basename:"/hostelz-client"},r.a.createElement((function(){return r.a.createElement(te.a,{theme:sa},r.a.createElement(Q,null),r.a.createElement(X.a,{path:"/",exact:!0,component:ae}),r.a.createElement(X.a,{path:"/login",component:Ie}),r.a.createElement(X.a,{path:"/register",exact:!0,component:qe}),r.a.createElement(X.a,{path:"/verify/:value/:id",exact:!0,component:We}),r.a.createElement(X.a,{path:"/branches",exact:!0,component:vt}),r.a.createElement(X.a,{path:"/branches/new",exact:!0,component:zt}),r.a.createElement(X.a,{path:"/branches/show/:id",exact:!0,component:Bt}),r.a.createElement(X.a,{path:"/branches/edit/:id",exact:!0,component:Dt}),r.a.createElement(X.a,{path:"/branches/:id/rooms",exact:!0,component:Jt}),r.a.createElement(X.a,{path:"/branches/:id/rooms/new",exact:!0,component:ra}),r.a.createElement(X.a,{path:"/branches/:id/rooms/edit/:rid",exact:!0,component:ia}),r.a.createElement(X.a,{path:"/tenents",exact:!0,component:_t}),r.a.createElement(X.a,{path:"/tenents/show/:id",exact:!0,component:Mt}),r.a.createElement(X.a,{path:"/tenents/new",exact:!0,component:Ht}),r.a.createElement(X.a,{path:"/tenents/edit/:id",exact:!0,component:Gt}),r.a.createElement(X.a,{path:"/balances",exact:!0,component:it}))}),null))),document.querySelector("#root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.25fb75f9.chunk.js.map